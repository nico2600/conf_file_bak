# Generated by the muttrc builder (http://muttrcbuilder.org/)
# for mutt-1.5.21

set imap_check_subscribed = yes # default: no
set imap_list_subscribed = yes # default: no
set imap_login = 'XXXXX' # default: '(empty)'
set imap_pass = 'XXXXX' # default: '(empty)'
set imap_user = 'XXXXX' # default: '(empty)'
set header_cache =~/.mutt/cache/headers
set certificate_file =~/.mutt/certificates
set message_cachedir =~/.mutt/cache/bodies
set signature="~/.mutt/signature"

set imap_authenticators="login"
set imap_passive="no"


set spoolfile = imaps://imap.gmail.com:993/INBOX
# below XXX stand for username@domain and YYY for password
set smtp_url="smtps://XXXXX:YYYYYYY@smtp.gmail.com:465"
set ssl_starttls="yes"
my_hdr X-Disclaimer: Your databases belong to us # This is a comment
#set postponed ="+[Gmail]/Drafts"
#set record="+[Gmail]/Sent Mail"
set mailcap_path=~/.muttrc_cap

# use 'new' quote format..avoid bad linebreaking on new system
#set text_flowed=yes

#GPG 
# gpg key
send-hook "~f @michel.mn"  set pgp_sign_as=A7C4F1A6

set pgp_use_gpg_agent = yes
set pgp_sign_as = A7C4F1A6
set pgp_timeout = 3600
set crypt_autosign = yes
set crypt_replyencrypt = yes
set reply_to

# Note that we explicitly set the comment armor header since GnuPG, when used
# in some localiaztion environments, generates 8bit data in that header, thereby
# breaking PGP/MIME.

# decode application/pgp
set pgp_decode_command="gpg --status-fd=2 %?p?--passphrase-fd 0? --no-verbose --quiet --batch --output - %f"

# verify a pgp/mime signature
set pgp_verify_command="gpg --status-fd=2 --no-verbose --quiet --batch --output - --verify %s %f"

# decrypt a pgp/mime attachment
set pgp_decrypt_command="gpg --status-fd=2 %?p?--passphrase-fd 0? --no-verbose --quiet --batch --output - %f"

# create a pgp/mime signed attachment
# set pgp_sign_command="gpg-2comp --comment '' --no-verbose --batch --output - %?p?--passphrase-fd 0? --armor --detach-sign --textmode %?a?-u %a? %f"
set pgp_sign_command="gpg --no-verbose --batch --quiet --output - %?p?--passphrase-fd 0? --armor --detach-sign --textmode %?a?-u %a? %f"

# create a application/pgp signed (old-style) message
# set pgp_clearsign_command="gpg-2comp --comment '' --no-verbose --batch --output - %?p?--passphrase-fd 0? --armor --textmode --clearsign %?a?-u %a? %f"
set pgp_clearsign_command="gpg --no-verbose --batch --quiet --output - %?p?--passphrase-fd 0? --armor --textmode --clearsign %?a?-u %a? %f"

# create a pgp/mime encrypted attachment
# set pgp_encrypt_only_command="pgpewrap gpg-2comp -v --batch --output - --encrypt --textmode --armor --always-trust -- -r %r -- %f"
set pgp_encrypt_only_command="/usr/lib/mutt/pgpewrap gpg --batch --quiet --no-verbose --output - --encrypt --textmode --armor --always-trust -- -r %r -- %f"

# create a pgp/mime encrypted and signed attachment
# set pgp_encrypt_sign_command="pgpewrap gpg-2comp %?p?--passphrase-fd 0? -v --batch --output - --encrypt --sign %?a?-u %a? --armor --always-trust -- -r %r -- %f"
set pgp_encrypt_sign_command="/usr/lib/mutt/pgpewrap gpg %?p?--passphrase-fd 0? --batch --quiet --no-verbose --textmode --output - --encrypt --sign %?a?-u %a? --armor --always-trust -- -r %r -- %f"

# import a key into the public key ring
set pgp_import_command="gpg --no-verbose --import %f"

# export a key from the public key ring
set pgp_export_command="gpg --no-verbose --export --armor %r"

# verify a key
set pgp_verify_key_command="gpg --verbose --batch --fingerprint --check-sigs %r"

# read in the public key ring
set pgp_list_pubring_command="gpg --no-verbose --batch --quiet --with-colons --list-keys %r" 

# read in the secret key ring
set pgp_list_secring_command="gpg --no-verbose --batch --quiet --with-colons --list-secret-keys %r" 

# This version uses --status-fd messages
set pgp_good_sign="^\\[GNUPG:\\] GOODSIG"


# key binds
bind compose p            pgp-menu

# locales FR pour les nom des jours et mois
set locale="fr_FR.utf8"

# Format de date
set date_format="%A %d %b %Y à %H:%M:%S (%Z)"

# Generated by the muttrc builder (http://muttrcbuilder.org/)
# for mutt-1.5.21
set realname = "Nicolas MICHEL"
set from = 'nicolas@michel.mn' # default: '(empty)'

#Editeur
set edit_hdrs
auto_view text/html
#set editor="nano" # indiquer ici votre éditeur de texte préféré.
alternative_order text/enriched text/plain text text/html

color attachment magenta default            # attachments
color body brightred default "(ftp|http)://[^ ]+"       # point out URLs
color body brightcyan default [-a-z_0-9.]+@[-a-z_0-9.]+ # e-mail addresses
color bold brightblue default               # boldface text
color error brightwhite red                 # error messages
color hdrdefault magenta default            # default color of message header
color header brightmagenta default ^(From): # From and Subject header
color header brightwhite default ^(Subject): # From and Subject header
color header brightwhite default ^(Date): # Date header
color header white default ^(In-Reply-To):
color indicator brightred default                   # indicator bar
color markers brightblue default            # wrapped line markers (+)
color message brightblack green             # status messages
color normal default default                # default
color quoted yellow default                 # quoted text, 1st quote level
color quoted1 green default                 # quoted text, 2nd quote level
color quoted2 brightblue default            # quoted text, 3rd quote level
color quoted3 blue default                  # quoted text, 4th quoet level
color search black yellow                   # matched search patterns in pager
color signature red default                 # the signature (after sigdashes)
color status default blue                   # status lines
color tilde brightblue default              # ``~'' used to pad blank lines
color tree green default                    # thread tree in the index menu
color underline brightgreen default         # underlined text

# regular new messages
color index black         white   "~N !~T !~F !~p !~P"
# regular tagged messages
color index black         cyan    "~T !~F !~p !~P"
# regular flagged messages
color index black         red     "~F !~p !~P"
# messages to me
#color index yellow        default "~p !~N !~T !~F !~P"
color index brightmagenta  white   "~p ~N !~T !~F !~P"
#color index yellow        cyan    "~p ~T !~F !~P"
#color index yellow        red     "~p ~F !~P"
# messages from me
color index green         default "~P !~N !~T !~F"
color index green         white   "~P ~N !~T !~F"
color index green         cyan    "~P ~T !~F"
color index green         red     "~P ~F"

# messages which mention my name in the body
#color index magenta        default "~b \"nico(las)?\" !~N !~T !~F !~p !~P"
#color index brightmagenta  white   "~b \"nico(las)?\" ~N !~T !~F !~p !~P"
#color index magenta        cyan    "~b \"nico(las)?\" ~T !~F !~p !~P"
#color index magenta        red     "~b \"nico(las)?\" ~F !~p !~P"
# messages which are in reference to my mails
#color index magenta       default "~x \"(mithrandir|aragorn)\\.aperiodic\\.net|thorin\\.hillmgt\\.com\" !~N !~T !~F !~p !~P"
#color index magenta       white   "~x \"(mithrandir|aragorn)\\.aperiodic\\.net|thorin\\.hillmgt\\.com\" ~N !~T !~F !~p !~P"
#color index magenta       cyan    "~x \"(mithrandir|aragorn)\\.aperiodic\\.net|thorin\\.hillmgt\\.com\" ~T !~F !~p !~P"
#color index magenta       red     "~x \"(mithrandir|aragorn)\\.aperiodic\\.net|thorin\\.hillmgt\\.com\" ~F !~p !~P"
# messages to root, etc.
color index cyan          default "~C \"(root|postmaster|abuse|mailer-daemon)@\" !~N !~P !~p"
color index cyan          white   "~C \"(root|postmaster|abuse|mailer-daemon)@\" ~N !~P !~p"
# big messages
color index brightred     default "!~N ~z 102400-"
color index brightred     cyan    "~T !~F !~p !~P ~z 102400-"
color index brightred     white   "~N ~z 102400-"

# deleted messages
color index red           default "!~N ~D"
color index red           white   "~N ~D"

mono  body bold              "[-a-z_0-9.%$]+@[-a-z_0-9.]+\\.[-a-z][-a-z]+"

# Smileys
color body brightgreen default " [;:]-*[\)DPp>\(<|]"
color body brightgreen default " [\(\|\)]*c[:;=]"
set include                     # always include messages when replying
set read_inc=10 

# Pour la gestion des accents
# charset-hook permettant de définir les alias de jeux de caractères
charset-hook x-unknown ISO-8859-15
charset-hook windows-1250 CP1250
charset-hook windows-1251 CP1251
charset-hook windows-1252 CP1252
charset-hook windows-1253 CP1253
charset-hook windows-1254 CP1254
charset-hook windows-1255 CP1255
charset-hook windows-1256 CP1256
charset-hook windows-1257 CP1257
charset-hook windows-1258 CP1258


unignore Date User-Agent X-Mailer
ignore Envelope-to X-OriginalArrivalTime X-UID
ignore Importance X-Keywords Delivery-date X-Apparently-To X-Apparently-From
ignore X-Authentication-Info List- Mailing-List X-IMAPbase Old-Content-Type
ignore X-Message-Info X-gotmail-version X-Virus-Scanned Authentication-Results
ignore X-Spam-Flag X-Spam-Level X-Spam-Checker-Version X-Spam-Prev
ignore X-All-Your-Base-Are-Belong-To X-BFI X-HotPOP-Delivered-To X-Return-Path
ignore X-eGroups- X-Yahoo-Profile X-Juno-Line-Breaks X-Mailman- X-BeenThere
ignore X-YahooFilteredBulk X-Header-Overseas X-Header-NoReverseIP
ignore X-MS- Thread- X-Priority X-ASG- X-ORBL X-Barracuda-Spam-
ignore X-DMCA X-Abuse X-AntiAbuse X-RFC2646 X-Postfilter X-Received
ignore X-ML- X-MLServer X-Mail-Count Posted X-Complaints-To Complaints-To
ignore Newsgroups NNTP- X-From-Usenet X-Trace Injection-Info X-rubymirror
ignore Return-Path Message-ID Received Mime-Version Content-Disposition Path
ignore Content-Type Content-Length Status Lines "From "
ignore X-Twitter X-Campaignid X-Forwarded-To X-Forwarded-For X-DKIM X-DomainKeys
unignore From:
unignore To:
unignore Subject:
unignore Date:
unignore Organization:
unignore Newsgroups:
unignore CC:
unignore BCC:
unignore X-Mailer:
unignore User-Agent:
unignore Message-ID:
unignore X-Junked-Because:
unignore X-Originating-IP:
unignore X-Antivirus:
unignore X-Antivirus-Status:
unignore Precedence:

set sort=threads
set sort_browser=date
set sort_aux=reverse-last-date-received

# set up the sidebar, default not visible 
set sidebar_width=30
set sidebar_visible=yes
set sidebar_delim='|' 
set sidebar_sort=yes 

# which mailboxes to list in the sidebar 
#mailboxes =inbox


# color of folders with new mail 
color sidebar_new yellow default 


bind pager   <up>     previous-line
bind pager   <down>   next-line
bind pager   <left>   previous-entry
bind pager   <right>  next-entry

# ctrl-n, ctrl-p to select next, prev folder 
# ctrl-o to open selected folder 
bind index \CP sidebar-prev 
bind index \CN sidebar-next 
bind index \CO sidebar-open 
bind pager \CP sidebar-prev 
bind pager \CN sidebar-next 
bind pager \CO sidebar-open 

# I don't need these. just for documentation purposes. See below. 
# sidebar-scroll-up 
# sidebar-scroll-down 

set pager_stop            # don't go to next message automatically
set tilde                 # show tildes like in vim
unset markers             # no ugly plus signs
set edit_headers          # show headers when composing
set envelope_from

# b toggles sidebar visibility 
macro index b '<enter-command>toggle sidebar_visible<enter>' 
macro pager b '<enter-command>toggle sidebar_visible<enter>' 

# Remap bounce-message function to "B" 
bind index B bounce-message 

push <show-version>
